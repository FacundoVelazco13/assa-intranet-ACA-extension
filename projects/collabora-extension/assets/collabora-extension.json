{
  "$id": "collabora-extension",
  "$version": "1.0.0",
  "$vendor": "Facundo Velazco",
  "$name": "collabora-extension",
  "$description": "Collabora Online plugin",
  "$license": "MIT",

  "routes": [
    {
      "id": "collabora.route",
      "path": "collabora-online",
      "auth": ["app.auth"],
      "children": [
        {
          "id": "collabora.route.edit",
          "path": ":action/:nodeId",
          "component": "collabora.edit.component"
        }
      ]
    }
  ],

  "actions": [
    {
      "id": "collabora.plugin.actions.edit",
      "type": "COLLABORA_EDIT",
      "payload": "$(context.selection.first)"
    }
  ],

  "rules": [
    {
      "id": "collabora.rules.canEditWithCollaboraOnline",
      "type": "collabora.canEditWithCollaboraOnline"
    }
  ],

  "features": {
    "icons": [
      {
        "id": "adf:edit-collabora-online",
        "value": "./assets/images/collabora-online-logo.svg"
      }
    ],
    "toolbar": [
      {
        "id": "collabora.plugin.viewer.edit",
        "type": "button",
        "order": 350,
        "icon": "adf:edit-collabora-online",
        "title": "COLLABORA.EDIT",
        "actions": {
          "click": "collabora.plugin.actions.edit"
        },
        "rules": {
          "visible": "collabora.canEditWithCollaboraOnline"
        }
      }
    ],
    "shared": {
      "toolbarActions": [
        {
          "id": "collabora.plugin.viewer.edit",
          "type": "button",
          "order": 350,
          "icon": "adf:edit-collabora-online",
          "title": "COLLABORA.EDIT",
          "actions": {
            "click": "collabora.plugin.actions.edit"
          },
          "rules": {
            "visible": "collabora.canEditWithCollaboraOnline"
          }
        }
      ]
    },
    "contextMenu": [
      {
        "id": "collabora.plugin.viewer.edit",
        "type": "button",
        "order": 451,
        "icon": "adf:edit-collabora-online",
        "title": "COLLABORA.EDIT",
        "actions": {
          "click": "collabora.plugin.actions.edit"
        },
        "rules": {
          "visible": "collabora.canEditWithCollaboraOnline"
        }
      }
    ],
    "viewer": {
      "toolbarActions": [
        {
          "id": "collabora.plugin.viewer.edit",
          "type": "button",
          "order": 200,
          "icon": "adf:edit-collabora-online",
          "title": "COLLABORA.EDIT",
          "actions": {
            "click": "collabora.plugin.actions.edit"
          },
          "rules": {
            "visible": "collabora.canEditWithCollaboraOnline"
          }
        }
      ]
    }
  }
}
